
<div class="row">

    <div class="col-sm-12 col-md-12 col-xs-12" style="padding-bottom:7px;">
        <button [hidden]="disabled" type="button" class="btn btn-primary  btn-sm" (click)="SaveGroup()" [disabled]="!formCtrl.form.valid || pageObject.ProjectClientChildList.length == 0">Save</button>
        <button routerLink="/project" type="button" class="btn btn-primary btn-sm">Back</button>
    </div>
    <div class="col-sm-12 col-md-12 col-xs-12 dynamicBottomDiv">
        <div class="row " style="border-top:1px solid #ddd; padding-top:7px">
            <div class="col-sm-12 col-md-12 col-xs-12 ">
                <div class="card">
                    <div class="card-header">
                        <strong>Project </strong>
                        <small>Details</small>
                        <small *ngIf="pageObject.UpdatedOn" style="float:right">Last updated on <u>{{pageObject.UpdatedOn | date :  "MMM d y"}}</u>, by <u>{{pageObject.UpdatedByName}}</u> </small>
                    </div>
                    <div class="card-body">
                        <form form #formCtrl="ngForm">
                            <div class="row">
                                <div class="col-sm-12 col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <ngx-label value="Project Name"></ngx-label>
                                        <input type="text" #ProjectName="ngModel" [(ngModel)]="pageObject.ProjectName" class="form-control" required name="ProjectName" placeholder="Enter Project Name" />
                                        <div *ngIf="ProjectName.errors && (ProjectName.dirty || ProjectName.touched)" class="error">
                                            Project Name is required
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <ngx-label value="Project Type"></ngx-label>
                                        <select required #ProjectTypeId="ngModel" [(ngModel)]="pageObject.ProjectTypeId" name="ProjectTypeId" class="form-control" id="" style="width:100%;">
                                            <option *ngFor="let item of pageObject.ProjectTypeList" value="{{item.Id}}">{{item.Type}}</option>
                                        </select>
                                        <div *ngIf="ProjectTypeId.errors && (ProjectTypeId.dirty || ProjectTypeId.touched)" class="error">
                                            Project Type is required
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <ngx-label value="Start Date"></ngx-label>
                                        <input type="date" #StartDate="ngModel" [ngModel]="pageObject.StartDate | date:'yyyy-MM-dd'" (ngModelChange)="pageObject.StartDate = $event" class="form-control" required name="StartDate" placeholder="Enter Start Date" />
                                        <div *ngIf="StartDate.errors && (StartDate.dirty || StartDate.touched)" class="error">
                                            Start Date is required
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="date" [ngModel]="pageObject.EndDate | date:'yyyy-MM-dd'" (ngModelChange)="pageObject.EndDate = $event" class="form-control" name="EndDate" placeholder="Enter End Date" />
                                    </div>
                                    <div class="form-group">
                                        <label>Project Description</label>
                                        <textarea rows="5" type="text" [(ngModel)]="pageObject.Description" class="form-control" name="Description" placeholder="Enter Project Description"></textarea>
                                    </div>
                                   
                                </div>
                                <div class="col-sm-12 col-md-6 col-xs-12">
                                    <div class="form-group">
                                        <label for="name">Is Project Complete</label><br />
                                        <label class="switch switch-3d switch-success switch-sm">
                                            <input type="checkbox" class="switch-input" [(ngModel)]="pageObject.IsComplete" name="IsComplete">
                                            <span class="switch-label"></span>
                                            <span class="switch-handle"></span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label for="name">Is Valid Project</label><br />
                                        <label class="switch switch-3d switch-success switch-sm">
                                            <input type="checkbox" class="switch-input" [(ngModel)]="pageObject.IsValid" name="IsValid">
                                            <span class="switch-label"></span>
                                            <span class="switch-handle"></span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <ngx-label value="Client"></ngx-label><a style="float:right;" href="javascript:void(0);" (click)="OpenModal('clientModal')">Add Client</a>
                                        <div style="border:1px solid #ddd; padding:5px; max-height:150px; overflow:auto;">
                                            <table style="width:100%" class="CustomeTable">
                                                <tr *ngIf="pageObject.ProjectClientChildList.length != 0">
                                                    <!--<th class="AlignCenter">
                                                        Action
                                                    </th>-->
                                                    <th style="width:60%">
                                                        Client Name
                                                    </th>
                                                    <th class="AlignCenter">Is Valid</th>
                                                </tr>
                                                <tbody>
                                                    <tr *ngFor="let item of pageObject.ProjectClientChildList; let i=index">
                                                        <!--<td class="AlignCenter">
                                                            <i (click)="RemoveClient(i)" class="icon-close"></i>
                                                        </td>-->
                                                        <td>
                                                            {{item.ClientName}}
                                                        </td>
                                                        <td class="AlignCenter">
                                                            <input type="checkbox" [(ngModel)]="item.IsValid" name="ClientName-{{i}}" />
                                                        </td>
                                                    </tr>
                                                    <tr *ngIf="pageObject.ProjectClientChildList.length == 0">
                                                        <td>
                                                            No Client Added
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="warning" *ngIf="pageObject.ProjectClientChildList.length == 0">
                                            Please Select atleast One Client
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="idDivModalCollection">
    <!-- MASTER SKILLS -->
    <div id="clientModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-info" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Master Clients</h4>
                    <button type="button" class="close" (click)="CloseModal('clientModal')" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="max-height:350px; overflow:auto;">
                    <table class="CustomeTable" style="width:100%">
                        <tr>
                            <th style="width:20%;text-align:center">
                                Add
                            </th>
                            <th>Clients</th>
                        </tr>
                        <tbody>
                            <tr *ngFor="let item of pageObject.ProjectMasterClientList;let i=index">
                                <td style="text-align:center">
                                    <input type="checkbox" [attr.data-s-index]="i" [attr.data-s-id]="item.Id" />
                                </td>
                                <td>
                                    {{item.ClientName}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="CloseModal('clientModal')">Close</button>
                    <button type="button" class="btn btn-primary" (click)="AddClients('clientModal')">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</div>